<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>array, object</title>
  <script>
    let student={
      name:"홍길동",
      department:"컴퓨터공학과",
      show:function(){
        return this.name+":"+this.department;
      }
    };
    document.write(student.show()+"<br>");

    let student2={
      name:"이순신",
      department:["컴퓨터공학과","철학과"],
      show:function(){
        return this.name+":"+this.department;
      }
    };
    document.write(student2.show()+"<br>");
    document.write(student2.department[0]+"<br>");
    document.write(student2.department[1]+"<br>");

    //학생목록 배열
    let students=[student, student2];
    document.write(students[0].name+"<br>");
    document.write(students[1].name+"<br>");
    document.write(students[1].department[0]+"<br>");
    document.write(students[1].department[1]+"<br>");
    
    /*----------------------------------------------------------------*/
    let ourStudents=[
      {name:"왕건",department:"수학과"},
      {name:"이율곡",department:["철학과","국문학과"]}
    ];
    document.write(ourStudents[0].name+"<br>");
    document.write(ourStudents[1].name+"<br>");
    document.write(ourStudents[1].department[0]+"<br>");
    document.write(ourStudents[1].department[1]+"<br>");

    //push
    let food=["짜장면","피자","치킨"];
    // const newLength=food.push("탕수육");
    // console.log(`새로운 배열의 길이 : ${newLength}`);
    const newLength = food.push("탕수육", "라자냐"); //맨뒤에 추가
    console.log(food); // ["짜장면", "피자", "치킨", "탕수육", "라자냐"]
    console.log(`새로운 배열의 길이: ${newLength}`); // 새로운 배열의 길이: 5
    //pop
    let food2 = ["짜장면", "피자", "치킨"];
    const removedItem = food2.pop(); // 마지막 요소 추출. 추출된 요소는 삭제됨
    console.log(removedItem); // 치킨
    console.log(food2); // ["짜장면", "피자"]
    //shift
    let food3 = ["짜장면", "피자", "치킨"];
    const removedItem3 = food3.shift(); // 첫번째요소추출. 추출된 요소는 삭제됨. 나머지 요소들 index 재조정됨
    console.log(removedItem3); // "짜장면"
    console.log(food3); // ["피자", "치킨"]
    //unshift
    let food4 = ["짜장면", "피자", "치킨"];
    const newLength4 = food4.unshift("갈비찜"); // 첫번째 요소에 삽입. 나머지 요소들 하나씩 뒤로 밀림
    console.log(food4); // ["갈비찜", "짜장면", "피자", "치킨"]
    console.log(`새로운 배열의 길이: ${newLength4}`); // 새로운 배열의 길이: 4
    //slice
    const arr = [1, 2, 3];
    const sliced = arr.slice(0, 2); // index  0 ~ 1까지 구해옴
    console.log(arr); // [1, 2, 3] // 원본은 변화 없음.
    console.log(sliced); // [1, 2]
    
    const arr2 = [1, 2, 3];
    const sliced2 = arr.slice(2); // index 2 ~ 끝까지 구해옴
    console.log(sliced2); // [3]
    // slice()에서 index가 음수인 경우 -1은 마지막 요소. 
    const arr3 = [1, 2, 3, 4, 5]; 
    console.log(arr3.slice(-1)); // [5]
    console.log(arr3.slice(-2)); // [4, 5]
    console.log(arr3.slice(-3)); // [3, 4, 5]
    console.log(arr3.slice(-4)); // [2, 3, 4, 5]
    console.log(arr3.slice(-5)); // [1, 2, 3, 4, 5]
    // concat
    let arrA = [1, 2];
    let arrB = [3, 4];
    let arrC = arrA.concat(arrB); // 배열을 연결해서 새로운 배열 생성
    console.log(arrC);  // [1, 2, 3, 4]
    console.log(arrA); // [1, 2] . 원본은 변화 없음

    let arrA2 = [1, 2];
    let arrB2 = { a: 1, b: 2 };
    let arrC2 = arrA2.concat(arrB2); // 배열의 마지막 요소에 객체가 추가됨
    console.log(arrC2); // [1, 2, { a: 1, b: 2 } ]
    // forEach. 배열의 요소를 하나씩 사용.  *** 자주 사용 ***
    const arr4 = [1, 2, 3];
    arr4.forEach((item, idx) => { 
      console.log(`${idx}번째 요소: ${item}`);
    });
    // indexOf. 배열의 요소를 찾음. 있으면 index, 없으면 -1 리턴. *** 자주 사용 ***
    let arr5 = [1, 3, 5, 7, 1];
    console.log(arr5.indexOf(1)); // 1을 처음부터 검색
    console.log(arr5.indexOf(1, -1)); // 1을 맨 뒤부터 검색
    console.log(arr5.indexOf(4)); // 없으면 -1 리턴
    console.log(arr5.indexOf("3")); // 자료형까지 같아야 검색됨. 
    // includes. 배열의 요소를 찾음. 있으면 true, 없으면 false
    let arr6 = [1, 3, 5, 7, 1];
    console.log(arr6.includes(3)); // true
    console.log(arr6.includes("생선")); // false
    // findIndex. 배열의요소를 찾음. 검색조건을 구현한 callback함수 사용. 있으면 index리턴
    let arr7 = [1, 3, 5, 6, 8];
    // 2의 배수 찾기. 처음 발견된 아이템의 index 리턴
    let index = arr7.findIndex((item) => 
      item % 2 === 0 ? true : false
    );
    console.log(index); // 3. 6이 2의 배수이므로 index 3 리턴
    // find. 배열의 요소 찾음. 있으면 요소를 리턴
    let arr8 = [
      { name: "이종원" },
      { name: "이정환" },
      { name: "신다민" },
      { name: "김효빈" }
    ];
    let element = arr8.find((item) => item.name === "이정환"); 
    console.log(element); // {name: "이정환"}
    // filter. 조건에 만족하는 요소를 찾아서 새로운 배열을 만들어 리턴. ***** 자주 사용 ****
    let arr9 = [
      { name: "이종원", hobby: "축구" },
      { name: "이정환", hobby: "영화" },
      { name: "신다민", hobby: "축구" },
      { name: "김효빈", hobby: "노래" }
    ];
    let filteredArr = arr9.filter(
      (item) => item.hobby === "축구"
    );
    console.log(filteredArr);
    // map. 배열의 요소를 하나씩 처리해서 새로운 배열을 만들어서 리턴.  ***** 자주 사용 ****
    let arr10 = [1, 2, 3, 4];
    let newArr2 = arr10.map((item) => item * 3); //
    console.log(newArr2); // [3, 6, 9, 12]. 리턴값이 배열.
    // sort. 정렬. item을 문자열로 취급. 사전순으로 오름차순 정렬
    let arr11 = ["b", "a", "c"];
    arr.sort();
    console.log(arr11); // ["a", "b", "c"]
    let arr12 = [10, 5, 3]; // 10이 문자열 "10"으로 취급됨. 
    arr.sort();
    console.log(arr12); // [10, 3, 5]. "10"이 사전순으로 가장 먼저 나옴. 
    // 정수값 비교를 위한 비교함수
    function compare(a, b) { // asc
      if (a > b) {
        return 1; // a가 b의 뒤로 감 
      } else if (a < b) {
        return -1; // a가 b의 앞으로 감
      } else {
        return 0; // 자리를 바꾸지 않음
      }
    }
     function compare2(a, b) { // desc
      if (a < b) {
        return 1; // a가 b의 뒤로 감 
      } else if (a > b) {
        return -1; // a가 b의 앞으로 감
      } else {
        return 0; // 자리를 바꾸지 않음
      }
    }

    let arr13 = [10, 5, 3];
    arr13.sort(compare); 
    console.log(arr13); // [3, 5, 10]
    arr13.sort(compare2);
    console.log(arr13); // [10, 5, 3]
    //join. 배열의 요소를 모두 연결해서 문자열로 리턴.
    let arr14 = ["안녕", "나는", "이정환"];
    console.log(arr14.join()); // 안녕,나는,이정환
    console.log(arr14.join("-")); // 안녕-나는-이정환
    //reduce. 배열의 요소를 하나씩 누산기를 사용해서 처리. 최종결과값 한 개 리턴.
    let arr15 = [1, 2, 3, 4, 5];
    let result = arr15.reduce((acc, item) => acc + item, 0); // acc의 초기값은 0, acc + item 결과값이 다시 acc에 전달됨.
    console.log(result); // 15
  </script>
</head>
<body>
  
</body>
</html>